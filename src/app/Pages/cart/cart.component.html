<div style="margin-top: 180px;">

    <div class="container px-5">
        <div class="row">

            <h1 class="text-center fw-bolder">Your Cart ({{cartQuantity$ | async}})</h1>

            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">Product</th>
                        <th scope="col">Price</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Subtotal</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let product of products" class="align-middle">
                        <th class="align-middle" scope="row">
                            <a class="position-relative ">
                                <img src={{product.product.imageCover}} height='100' width='100' alt="" />
                                <div style="cursor: pointer;" (click)="removeProduct(product.product._id)"
                                    class="deleteLayer text-white bg-danger rounded-circle "><i
                                        class="fa-solid fa-trash-can text-white"></i></div>
                            </a>

                            <h5 class="fw-bold">{{product.product.title | firstThreeWords}}</h5>
                        </th>
                        <td>${{product.price}}</td>
                        <td class="align-middle">
                            <div class='d-flex'>
                                <button (click)="decQuantity(product.product._id,product.count)"
                                    class='rounded-start-4 border border-2 border-danger text-danger'><i
                                        class="fa-solid fa-minus"></i></button>
                                <div class=' d-flex justify-content-center align-items-center  border border-1 px-2'>
                                    {{product.count}}</div>
                                <button (click)="incQuantity(product.product._id,product.count)" class='rounded-end-4
                                    border border-2 border-success text-success'><i
                                        class="fa-solid fa-plus"></i></button>
                            </div>
                        </td>
                        <td>${{product.price*product.count}}</td>
                    </tr>

                    <tr>
                        <th colSpan='2' class='border-0'> </th>
                        <td class='fw-bolder align-middle'>Subtotal :</td>
                        <td>${{result?.data?.totalCartPrice}}</td>
                    </tr>

                    <tr>
                        <th colSpan='2' class='border-0'> </th>
                        <td class='fw-bolder align-middle'>Sales Tax :</td>
                        <td>$0</td>
                    </tr>

                    <tr>
                        <th colSpan='2' class='border-0'> </th>
                        <td class='fw-bolder align-middle'>Coupon :</td>
                        <td><input type="text" class='form-control w-100 border-1 border-black' /></td>
                    </tr>

                    <tr>
                        <th colSpan='2' class='border-0'> </th>
                        <td class='fw-bolder align-middle'>Grand Total :</td>
                        <td class="fs-3 fw-bolder">${{result?.data?.totalCartPrice}}</td>
                    </tr>

                </tbody>
            </table>

            <div class="d-flex flex-column align-items-end">

                <button routerLink="/checkout" class='btn btn-dark mt-3'> Check out </button>
                <button (click)="clearCart()" class='btn btn-danger mt-3'><i
                        class="fa-solid fa-trash-can text-white"></i>
                    Clear Cart</button>

            </div>




        </div>
    </div>


</div>